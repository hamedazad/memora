{% extends 'memory_assistant/base.html' %}

{% block title %}Add Member - {{ organization.name }}{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="bi bi-person-plus-fill me-2"></i>
                    Add Member to {{ organization.name }}
                </h5>
                <small class="text-muted">Directly add a user as a member (Admin only)</small>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label for="{{ form.username.id_for_label }}" class="form-label">
                            {{ form.username.label }}
                        </label>
                        {{ form.username }}
                        {% if form.username.help_text %}
                            <div class="form-text">{{ form.username.help_text }}</div>
                        {% endif %}
                        {% if form.username.errors %}
                            <div class="text-danger">
                                {% for error in form.username.errors %}
                                    <small>{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <div class="mb-3">
                        <label for="{{ form.role.id_for_label }}" class="form-label">
                            {{ form.role.label }}
                        </label>
                        {{ form.role }}
                        {% if form.role.help_text %}
                            <div class="form-text">{{ form.role.help_text }}</div>
                        {% endif %}
                        {% if form.role.errors %}
                            <div class="text-danger">
                                {% for error in form.role.errors %}
                                    <small>{{ error }}</small>
                                {% endfor %}
                            </div>
                        {% endif %}
                    </div>
                    
                    <!-- Role Descriptions -->
                    <div class="alert alert-info">
                        <h6 class="mb-2"><i class="bi bi-info-circle"></i> Role Descriptions:</h6>
                        <ul class="mb-0 small">
                            <li><strong>Admin:</strong> Full access - can manage members, settings, and content</li>
                            <li><strong>Moderator:</strong> Can moderate content and manage regular members</li>
                            <li><strong>Member:</strong> Can share memories and participate in discussions</li>
                            <li><strong>Viewer:</strong> Can only view shared content (read-only)</li>
                        </ul>
                    </div>
                    
                    <div class="d-flex justify-content-between">
                        <a href="{% url 'memory_assistant:organization_members' organization.id %}" 
                           class="btn btn-outline-secondary">
                            <i class="bi bi-arrow-left"></i> Cancel
                        </a>
                        <button type="submit" class="btn btn-primary">
                            <i class="bi bi-person-plus"></i> Add Member
                        </button>
                    </div>
                </form>
            </div>
        </div>
        
        <!-- Instructions -->
        <div class="card mt-4">
            <div class="card-header">
                <h6 class="card-title mb-0">
                    <i class="bi bi-lightbulb"></i> Instructions
                </h6>
            </div>
            <div class="card-body">
                <p class="mb-2"><strong>Direct Member Addition</strong></p>
                <ul class="small mb-0">
                    <li>This will immediately add the user as a member without sending an invitation</li>
                    <li>The user will receive a notification about being added to the organization</li>
                    <li>Only organization admins can use this feature</li>
                    <li>Make sure you have permission to add the user to your organization</li>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}


